<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Oxford iHealth</title>
<link>https://oxford-ihtm.io/blog.html</link>
<atom:link href="https://oxford-ihtm.io/blog.xml" rel="self" type="application/rss+xml"/>
<description>Fostering innovation, research, and education in the field of computational sciences for health</description>
<image>
<url>https://oxford-ihtm.io/images/ihealth_base_pos_tn.png</url>
<title>Oxford iHealth</title>
<link>https://oxford-ihtm.io/blog.html</link>
<height>289</height>
<width>144</width>
</image>
<generator>quarto-1.7.32</generator>
<lastBuildDate>Wed, 16 Oct 2024 00:00:00 GMT</lastBuildDate>
<item>
  <title>It takes a village…</title>
  <dc:creator>Proochista Ariana</dc:creator>
  <link>https://oxford-ihtm.io/posts/2024-10-26-it-takes-a-village/</link>
  <description><![CDATA[ 





<p>After the pilot run of the <a href="https://oxford-ihtm.io/teaching">Open and Reproducible Science in R</a> module for IHTM Class 2021-2022, it was apparent based on student feedback that learning to code in R was something most of our students valued. As with other elements of the course, it is clear that more impactful learning happens when students use whatever they have learned on an actual analytic task. With this in mind, we made some changes to the module starting from IHTM Class 2022-2023.</p>
<ol type="1">
<li><p>The sessions were integrated into the core PTGH module. This reflected our belief that the data skills alongside the exposure to the concepts of open science and reproducible research should be part of the knowledge base and toolkit of a modern day global health practitioner.</p></li>
<li><p>We increased the allocated sessions from 5 to 10 to include cross-cutting and foundational topics on open science and reproducible research in addition to a wider breadth of basic R topics.</p></li>
</ol>
<p>These changes allowed for more practical data analysis exercises for the students including a hackathon based on a global health topic and a corresponding real dataset to work on as a team. More importantly, these changes shifted the focus of our learning objectives from just teaching students how to code in R to enabling the practice of open and reproducible science using R and providing the tooling, skills, and mindset to participate in a community of learners and practitioners even beyond the course.</p>
<section id="from-ihtm-codehub-to-ihealth-champions" class="level2">
<h2 class="anchored" data-anchor-id="from-ihtm-codehub-to-ihealth-champions">From IHTM CodeHub to iHealth Champions</h2>
<div class="img-float">
<p><img src="https://oxford-ihtm.io/images/oxford_codehub.png" class="img-fluid" style="float: left; margin: 10px; width: 200px"></p>
</div>
<p>From this was born <strong>IHTM CodeHub</strong>, a community for IHTM students and alumni with the aim of providing a forum for continuous learning in R and support for the practice of open and reproducible science. Every member of the outgoing class since 2022 have been inducted to IHTM CodeHub during the course graduation event.</p>
<p>Since then, IHTM CodeHub has supported specific challenges faced by some of our members from implementing reproducible data collection and analysis systems for nutrition programme coverage in Liberia to capacity-building on use of R for reproducible workflows on health vital statistics in Seychelles. Over the coming weeks, we will be showcasing these IHTM CodeHub community projects to illustrate how this community can support such efforts.</p>
<div class="img-float">
<p><img src="https://oxford-ihtm.io/images/ihealth_champions.png" class="img-fluid" style="float: right; margin: 10px; width: 200px"></p>
</div>
<p>This year, based on feedback from current community members, we are rebranding our community to <strong>iHealth Champions</strong>. The main driver of this rebrand is to make the name more aptly represent what the community aims for which is to <em>champion</em> and support its members in their journey towards the practice of open and reproducible science and in turn for our members to become <em>champions</em> and advocates of open and reproducible science in their own contexts. In addition, the new name de-emphasises “code” which some members felt intimidating as it seemed participation in the community meant being able to code well. Instead, we are highlighting a community of practice for open and reproducible science.</p>
<p>Since this is the tenth year of the <a href="https://www.tropicalmedicine.ox.ac.uk/study-with-us/msc-ihtm">MSc in International Health and Tropical Medicine</a>, we thought it important that the entire IHTM alumni cohort be given the opportunity to be an iHealth Champion.</p>
<p>As such, and as a way to formally introduce IHTM alumni cohorts to the iHealth Champions community and discuss how to formally join, we will be holding our first ever virtual Community Day on the 16th of November at 1pm GMT. We will be sending out the formal invite to the IHTM alumni email mailing list with the details of the Community Day and the Zoom link for the event.</p>
<p>We look forward to seeing all of you then! And welcome to the <strong>iHealth Champions</strong> community!</p>


</section>

 ]]></description>
  <category>stories</category>
  <category>announcement</category>
  <category>community</category>
  <category>Champions Programme</category>
  <guid>https://oxford-ihtm.io/posts/2024-10-26-it-takes-a-village/</guid>
  <pubDate>Wed, 16 Oct 2024 00:00:00 GMT</pubDate>
  <media:content url="https://oxford-ihtm.io/images/ihealth_champions.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>Welcome MSc IHTM Class of 2025</title>
  <dc:creator>Ernest Guevarra</dc:creator>
  <link>https://oxford-ihtm.io/posts/2024-10-03-welcome-class-2025/</link>
  <description><![CDATA[ 





<p>October is here again and it is time to welcome our new cohort - <strong><em>Class 2025</em></strong> - of the <a href="https://www.tropicalmedicine.ox.ac.uk/study-with-us/msc-ihtm">MSc in International Health and Tropical Medicine</a>. We met all 19 students of the current cohort last week on the 1st and 2nd of October as they went through the now customary laptop setup for the <a href="https://oxford-ihtm.io/teaching/">Open and Reproducible Science in R module</a>. Lots of big smiles and positive vibes from this group of truly global students coming from 17 different countries.</p>
<p>This year is also particularly special as it <a href="https://www.tropicalmedicine.ox.ac.uk/news/ihtm-10-years-on">marks 10 years of the course</a>. This 10th year cohort brings the total of IHTM students to 221 coming from 65 different countries (see Figure&nbsp;1). This level of diversity has always been the hallmark of the course.</p>
<p><br></p>
<div class="cell">
<div id="fig-student-country-map" class="cell-output-display quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-student-country-map-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-132a3ddf0787dfba2dee" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-132a3ddf0787dfba2dee">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://api.mapbox.com/styles/v1/ernestguevarra/cjdlr8pvl0xiv2sqvq1evk1pl/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZXJuZXN0Z3VldmFycmEiLCJhIjoiejRRLXlZdyJ9.sqS1zi0rDH5CIzvcn9SXSg",null,null,{"minZoom":2,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"attribution":"&copy; <a href=\"https://www.mapbox.com/about/maps/\">Mapbox<\/a> &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap<\/a> <strong><a href=\"https://www.mapbox.com/map-feedback/\" target=\"_blank\">Improve this map<\/a><\/strong>"}]},{"method":"addCircleMarkers","args":[[-24.99029048990086,-30.57272229826078,50.83414992641211,24.15391884327456,9.976522035468371,5.991586462039501,37.98724443357811,30.57389698130202,34.99760554376617,9.976531057994812,-0.008499291893094748,1.021397605523467,27.99420159553364,-30.56456373909116,30.54507519237262,1.023706792667508,1.015227436885238,-5.956710407774895,8.013857458453625,10.0207012087442,-24.99927052659914,1.022078740209341,-30.57332970979437,-6.005350622624158,6.515638311419636,-6.01622277629748,-20.13807017477635,-21.99970599084347,30.57176774216381,-30.53838973166048,32.01769973917305,5.992331742726266,34.98400252462179,20.99447203607485,23.98375485561043,10.0107414480187,-24.98203614523634,-9.976708967175334,38.00088970995322,54.01044608844817,6.509241337824613,34.99402684069798,-5.987565525691957,-30.57012182601169,-13.4953983845897,5.978424406796694,27.98203977943957,60.01398168974742,27.02281108499318,-30.54830401905253,-25.00475531943142,6.500776762008667,9.994527710463851,41.49081847401708,35.01837854544446,-24.98155308641121,0.9940553179904819,5.989898620191962,-30.55925037375837,-1.228773986674845,-13.47800060911104,16.15298543351573,2.510426324635744,9.985129372373223,-8.583357077117263,23.99238455742225,-34.00723128225282,-17.99965873910487,15.99673216691241,10.01960061793029,-34.01870715107396,-30.54204827203229,1.016441771645099,38.00035803839192,13.02091427306831,8.508619902405888,20.98774396117777,32.02049449428171,-33.98839474255592,10.0187425651066,-25.0040958978869,8.508671310964973,7.993045969624072,-5.948790093954653,14.99323663434014,3.20720820318535,24.02167035584897,38.01592908793315,-20.1332803905237,24.00335410046205,15.47733664188162,2.496711162678897,-30.57911837648973,9.99197551935166,30.00127572641149,9.97761803637445,-4.639392047312111,6.00302915675193,-18.26298826245964,-13.508266765818,35.976797243312,27.98986372630671,10.01419999976829,1.00297899113968,54.02368652665615,38.01802916837484,-20.12012669427353,13.00567093773559,10.0074314959459,59.98065029428527,-30.53646841244772,8.513951232738792,8.502979211159051,23.98071608900651,8.520115697871894,16.16318488369194,-5.999194570027292,2.500628171473742,10.01284078224748,8.001881151210517,54.01855634445324,19.97690005468577,23.99255347115546,-14.31522613584802,53.98866618095711,-20.13021525869924,17.22945938099921,14.98449834305048,7.983220503393561,0.0153879386633634,10.00627710852399,-18.23811804202944,10.00672695244849,10.01756871866062,1.012333319488913,5.982554654628038,-1.983222290080041,5.989524400033057,15.99632773193717,13.90611538460106,-0.01802895734086626,-30.56047654063627,41.51625295541808,16.17421089110953,5.987662617299706,-30.5674102782011,2.521859214823693,3.38244553200528,19.99914702621847,19.99756347720697,27.98683357392996,21.01443844497576,28.01349058601633,10.01992020782828,19.98620921594277,16.01524605222046,13.01341111645475,-3.500678896170109,16.01459114723653,-30.54574478971213,19.9837799478434,-40.98866302544996,0.9823432416617871,7.988990287225693,15.98473796371371,-13.48953959337249,-13.49666331395879,0.9916578266806901,1.252651761941612,24.00121858591586,10.00651754501462,21.01583504001796,-0.005065028518438323,20.02210175188631,16.17682140144763,7.99797631052509,-17.99318595952168,14.97727937450632,9.998950528178364,7.98636571964249,20.01837904867157,-0.02140089309588067,-20.12836278985846,9.980044880662113,7.991792487699539,15.99935707552731,20.00236222230643,-30.57814276729524,40.27320788067951,10.01617048786208,9.991673364035785,12.97902851001546,0.9830696462355555,1.239808671988547,-30.56790301337466,1.25491292437911,-13.50090829100087,8.499270878706128,-34.01653741801157,0.02768479104964287,-33.98879312144965,34.99909638737515,24.14122050443068,-9.976897800981998,2.494846627507359,10.00119614244252,32.05502433060855,6.495883618909866,7.997276202328504,-29.50704018061608,26.98192617300153,-0.02147766803205006,8.493122933857142,-20.12221418527546,-18.26456573179737,35.98291571792588,16.01223366297409,16.16153951124904,1.002434828776866,-0.01913919952511781,6.978188103880734,8.014407346069813,7.985844691108912,34.99389360967651],[135.0208149424866,23.0799440230988,3.931557739838958,120.6380038445309,8.055055147297679,12.04736669775098,-96.93417179814726,-105.7526237559646,37.93136741417646,8.037127384617925,119.9846904030293,37.97549132806808,84.01420996929333,23.1534611146152,-105.7326579618595,37.98281303304061,37.97306430837512,143.4940918171033,-1.023434714537114,8.038683856427669,134.983766118899,38.06736943318322,23.16924730904773,34.97088494817167,-9.491489594440907,34.97977287498489,30.75927179555535,23.94806626613438,-105.7934196921318,23.12600736705959,52.92936271704361,11.92864676696062,104.954215582341,95.96474135070294,90.05147160259634,8.051007701706141,135.0238471933231,-55.01828602724895,-97.04184655881301,-1.959785389721394,-9.45016413864866,104.9603401609697,35.03849834720791,23.15630070569739,33.96211458123848,11.97827439136058,83.9634715493694,-95.93012642053887,30.0286660402827,23.05013628422096,134.9758739910833,-9.516117195453495,7.929111343197525,74.96625345605985,37.97839419779181,134.9429582985006,38.05825692329928,11.94459475331381,23.07873731945827,-78.24154704219475,34.0276379147321,107.7801075900452,112.5084402926825,8.057085390225053,125.9675831697285,89.97699237816408,-63.97531082884595,177.992781412553,29.97268063973263,7.990465200714767,-64.01873878691346,23.18067748063802,37.93752113001049,-97.03405163948239,104.9499877333827,-11.53168254024908,95.96709938354418,-6.054711556792259,-63.96122836083919,8.059331971749662,135.0487465669513,-11.56794801892713,-1.051771704602986,143.4219577303566,38.97701893625781,72.96580522590875,90.01844802016765,-97.01014455695822,30.71077068009913,89.99490080090985,100.9787067567483,112.5657914028838,23.1757066623643,8.035428642474114,70.04372219971567,8.051601038023829,55.46888229634985,11.95340254785866,34.94059962578491,34.04951368885487,137.981682573203,83.99622997344285,7.988590125322342,37.99780015630275,-1.950236053600908,-97.03994697195292,30.79132892097845,121.9447483762652,8.004116330955178,99.98991317474098,23.08676769392565,-11.48953653814644,-11.44260638278723,89.95825055029616,-11.49763931616396,107.8561699939476,35.03758467470109,112.5517973412909,7.943595049086959,-0.9883278234526516,-2.009191481593996,76.9281698361002,90.06396862949431,28.50019120147079,-1.980470131143928,30.79986426497936,-88.7121973698996,38.95976807582751,-0.9558002883233134,120.0243088978194,8.031172206733375,34.95106614767015,8.032562431875617,8.061863011766224,37.98818129900098,11.99402042537928,30.02751010727137,11.94927303733304,29.96997301038355,-61.01911997122318,120.0460165809542,23.10985798975825,74.98499783608317,107.9045141035834,11.94043963976204,23.15549939055741,112.4791825193726,-74.85631702534184,76.99434675335512,76.94356327352673,84.05712326244637,95.93020236681774,84.05419756869972,7.969525829914957,76.98322376510501,29.94599414383248,121.981680642549,29.97045679502562,30.02007300712913,23.16776849976182,76.93938480386883,174.0046656695902,37.99108934656158,30.0590508127436,29.94734209259972,33.99949970545619,33.94131084589288,37.95161295289174,32.55365967924148,89.96062906656414,7.981114728666842,95.98477640668675,119.9901012096293,76.97059319132194,107.8410352927627,-0.9476544556543236,178.0547589794882,39.06642262858897,7.986719443120062,29.97570159414411,77.01485882096738,119.9415798229091,30.78895370520219,8.011862303860486,-1.005738110598177,30.03865303338691,76.99287420786544,23.06791599882022,45.06332534984126,7.959093066044153,8.035316079080104,121.9829562870078,37.95579698528349,32.4657815874666,23.0658592377305,32.5025964358598,34.02547172296792,-11.53112259632722,-64.03063326833025,25.03297969119623,-64.02590223662556,37.99505505907536,120.6585529372558,-75.17930731645227,112.4978050185777,8.006242409110069,35.32731885869056,-9.435709405411036,-0.9330240452028817,28.30018327480927,29.97639747493342,119.9798182017691,-11.50647605660558,30.72988353743717,35.00741387294978,138.0620729416944,30.0299410902299,107.8774834851617,38.05344072810561,119.9677648680657,81.02390592665971,-1.032558120325207,30.0360756755434,104.9586908328943],5,null,null,{"interactive":true,"className":"","stroke":true,"color":"#7F055F","weight":1,"opacity":1,"fill":true,"fillColor":"#7F055F","fillOpacity":0.6},{"showCoverageOnHover":true,"zoomToBoundsOnClick":true,"spiderfyOnMaxZoom":true,"removeOutsideVisibleBounds":true,"spiderLegPolylineOptions":{"weight":1.5,"color":"#222","opacity":0.5},"freezeAtZoom":false},null,null,null,["Class 2015-2016<br/>Country: Australia<br/>","Class 2015-2016<br/>Country: South Africa<br/>","Class 2015-2016<br/>Country: Belgium<br/>","Class 2015-2016<br/>Country: Taiwan<br/>","Class 2015-2016<br/>Country: Nigeria<br/>","Class 2015-2016<br/>Country: Cameroon<br/>","Class 2015-2016<br/>Country: United States of America<br/>","Class 2015-2016<br/>Country: Mexico<br/>","Class 2015-2016<br/>Country: Syria<br/>","Class 2015-2016<br/>Country: Nigeria<br/>","Class 2015-2016<br/>Country: Indonesia<br/>","Class 2015-2016<br/>Country: Kenya<br/>","Class 2015-2016<br/>Country: Nepal<br/>","Class 2015-2016<br/>Country: South Africa<br/>","Class 2015-2016<br/>Country: Mexico<br/>","Class 2015-2016<br/>Country: Kenya<br/>","Class 2015-2016<br/>Country: Kenya<br/>","Class 2015-2016<br/>Country: Papua New Guinea<br/>","Class 2016-2017<br/>Country: Ghana<br/>","Class 2016-2017<br/>Country: Nigeria<br/>","Class 2016-2017<br/>Country: Australia<br/>","Class 2016-2017<br/>Country: Kenya<br/>","Class 2016-2017<br/>Country: South Africa<br/>","Class 2016-2017<br/>Country: Tanzania<br/>","Class 2016-2017<br/>Country: Liberia<br/>","Class 2016-2017<br/>Country: Tanzania<br/>","Class 2016-2017<br/>Country: Zimbabwe<br/>","Class 2016-2017<br/>Country: Botswana<br/>","Class 2016-2017<br/>Country: Mexico<br/>","Class 2016-2017<br/>Country: South Africa<br/>","Class 2016-2017<br/>Country: Iran<br/>","Class 2016-2017<br/>Country: Cameroon<br/>","Class 2016-2017<br/>Country: China<br/>","Class 2016-2017<br/>Country: Myanmar<br/>","Class 2017-2018<br/>Country: Bangladesh<br/>","Class 2017-2018<br/>Country: Nigeria<br/>","Class 2017-2018<br/>Country: Australia<br/>","Class 2017-2018<br/>Country: Brazil<br/>","Class 2017-2018<br/>Country: United States of America<br/>","Class 2017-2018<br/>Country: United Kingdom<br/>","Class 2017-2018<br/>Country: Liberia<br/>","Class 2017-2018<br/>Country: China<br/>","Class 2017-2018<br/>Country: Tanzania<br/>","Class 2017-2018<br/>Country: South Africa<br/>","Class 2017-2018<br/>Country: Malawi<br/>","Class 2017-2018<br/>Country: Cameroon<br/>","Class 2017-2018<br/>Country: Nepal<br/>","Class 2017-2018<br/>Country: Canada<br/>","Class 2017-2018<br/>Country: Egypt<br/>","Class 2017-2018<br/>Country: South Africa<br/>","Class 2017-2018<br/>Country: Australia<br/>","Class 2017-2018<br/>Country: Liberia<br/>","Class 2018-2019<br/>Country: Nigeria<br/>","Class 2018-2019<br/>Country: Kyrgyzstan<br/>","Class 2018-2019<br/>Country: Syria<br/>","Class 2018-2019<br/>Country: Australia<br/>","Class 2018-2019<br/>Country: Kenya<br/>","Class 2018-2019<br/>Country: Cameroon<br/>","Class 2018-2019<br/>Country: South Africa<br/>","Class 2018-2019<br/>Country: Ecuador<br/>","Class 2018-2019<br/>Country: Malawi<br/>","Class 2018-2019<br/>Country: Vietnam<br/>","Class 2018-2019<br/>Country: Malaysia<br/>","Class 2018-2019<br/>Country: Nigeria<br/>","Class 2018-2019<br/>Country: Timor-Leste<br/>","Class 2018-2019<br/>Country: Bangladesh<br/>","Class 2018-2019<br/>Country: Argentina<br/>","Class 2018-2019<br/>Country: Fiji<br/>","Class 2018-2019<br/>Country: Sudan<br/>","Class 2018-2019<br/>Country: Nigeria<br/>","Class 2018-2019<br/>Country: Argentina<br/>","Class 2018-2019<br/>Country: South Africa<br/>","Class 2018-2019<br/>Country: Kenya<br/>","Class 2018-2019<br/>Country: United States of America<br/>","Class 2018-2019<br/>Country: Cambodia<br/>","Class 2018-2019<br/>Country: Sierra Leone<br/>","Class 2018-2019<br/>Country: Myanmar<br/>","Class 2018-2019<br/>Country: Morocco<br/>","Class 2019-2020<br/>Country: Argentina<br/>","Class 2019-2020<br/>Country: Nigeria<br/>","Class 2019-2020<br/>Country: Australia<br/>","Class 2019-2020<br/>Country: Sierra Leone<br/>","Class 2019-2020<br/>Country: Ghana<br/>","Class 2019-2020<br/>Country: Papua New Guinea<br/>","Class 2019-2020<br/>Country: Eritrea<br/>","Class 2019-2020<br/>Country: Maldives<br/>","Class 2019-2020<br/>Country: Bangladesh<br/>","Class 2019-2020<br/>Country: United States of America<br/>","Class 2019-2020<br/>Country: Zimbabwe<br/>","Class 2019-2020<br/>Country: Bangladesh<br/>","Class 2019-2020<br/>Country: Thailand<br/>","Class 2019-2020<br/>Country: Malaysia<br/>","Class 2019-2020<br/>Country: South Africa<br/>","Class 2019-2020<br/>Country: Nigeria<br/>","Class 2019-2020<br/>Country: Pakistan<br/>","Class 2019-2020<br/>Country: Nigeria<br/>","Class 2019-2020<br/>Country: Seychelles<br/>","Class 2019-2020<br/>Country: Cameroon<br/>","Class 2019-2020<br/>Country: Mozambique<br/>","Class 2019-2020<br/>Country: Malawi<br/>","Class 2019-2020<br/>Country: Japan<br/>","Class 2020-2021<br/>Country: Nepal<br/>","Class 2020-2021<br/>Country: Nigeria<br/>","Class 2020-2021<br/>Country: Kenya<br/>","Class 2020-2021<br/>Country: United Kingdom<br/>","Class 2020-2021<br/>Country: United States of America<br/>","Class 2020-2021<br/>Country: Zimbabwe<br/>","Class 2020-2021<br/>Country: Philippines<br/>","Class 2020-2021<br/>Country: Nigeria<br/>","Class 2020-2021<br/>Country: Russia<br/>","Class 2020-2021<br/>Country: South Africa<br/>","Class 2020-2021<br/>Country: Sierra Leone<br/>","Class 2020-2021<br/>Country: Sierra Leone<br/>","Class 2020-2021<br/>Country: Bangladesh<br/>","Class 2020-2021<br/>Country: Sierra Leone<br/>","Class 2020-2021<br/>Country: Vietnam<br/>","Class 2020-2021<br/>Country: Tanzania<br/>","Class 2020-2021<br/>Country: Malaysia<br/>","Class 2020-2021<br/>Country: Nigeria<br/>","Class 2020-2021<br/>Country: Ghana<br/>","Class 2020-2021<br/>Country: United Kingdom<br/>","Class 2020-2021<br/>Country: India<br/>","Class 2020-2021<br/>Country: Bangladesh<br/>","Class 2020-2021<br/>Country: Zambia<br/>","Class 2020-2021<br/>Country: United Kingdom<br/>","Class 2020-2021<br/>Country: Zimbabwe<br/>","Class 2020-2021<br/>Country: Belize<br/>","Class 2020-2021<br/>Country: Eritrea<br/>","Class 2021-2022<br/>Country: Ghana<br/>","Class 2021-2022<br/>Country: Indonesia<br/>","Class 2021-2022<br/>Country: Nigeria<br/>","Class 2021-2022<br/>Country: Mozambique<br/>","Class 2021-2022<br/>Country: Nigeria<br/>","Class 2021-2022<br/>Country: Nigeria<br/>","Class 2021-2022<br/>Country: Kenya<br/>","Class 2021-2022<br/>Country: Cameroon<br/>","Class 2021-2022<br/>Country: Rwanda<br/>","Class 2021-2022<br/>Country: Cameroon<br/>","Class 2021-2022<br/>Country: Sudan<br/>","Class 2021-2022<br/>Country: Saint Lucia<br/>","Class 2021-2022<br/>Country: Indonesia<br/>","Class 2021-2022<br/>Country: South Africa<br/>","Class 2021-2022<br/>Country: Kyrgyzstan<br/>","Class 2021-2022<br/>Country: Vietnam<br/>","Class 2021-2022<br/>Country: Cameroon<br/>","Class 2021-2022<br/>Country: South Africa<br/>","Class 2021-2022<br/>Country: Malaysia<br/>","Class 2021-2022<br/>Country: Colombia<br/>","Class 2021-2022<br/>Country: India<br/>","Class 2021-2022<br/>Country: India<br/>","Class 2021-2022<br/>Country: Nepal<br/>","Class 2021-2022<br/>Country: Myanmar<br/>","Class 2021-2022<br/>Country: Nepal<br/>","Class 2022-2023<br/>Country: Nigeria<br/>","Class 2022-2023<br/>Country: India<br/>","Class 2022-2023<br/>Country: Sudan<br/>","Class 2022-2023<br/>Country: Philippines<br/>","Class 2022-2023<br/>Country: Burundi<br/>","Class 2022-2023<br/>Country: Sudan<br/>","Class 2022-2023<br/>Country: South Africa<br/>","Class 2022-2023<br/>Country: India<br/>","Class 2022-2023<br/>Country: New Zealand<br/>","Class 2022-2023<br/>Country: Kenya<br/>","Class 2022-2023<br/>Country: South Sudan<br/>","Class 2022-2023<br/>Country: Sudan<br/>","Class 2022-2023<br/>Country: Malawi<br/>","Class 2022-2023<br/>Country: Malawi<br/>","Class 2022-2023<br/>Country: Kenya<br/>","Class 2022-2023<br/>Country: Uganda<br/>","Class 2022-2023<br/>Country: Bangladesh<br/>","Class 2022-2023<br/>Country: Nigeria<br/>","Class 2022-2023<br/>Country: Myanmar<br/>","Class 2022-2023<br/>Country: Indonesia<br/>","Class 2022-2023<br/>Country: India<br/>","Class 2022-2023<br/>Country: Vietnam<br/>","Class 2022-2023<br/>Country: Ghana<br/>","Class 2023-2024<br/>Country: Fiji<br/>","Class 2023-2024<br/>Country: Eritrea<br/>","Class 2023-2024<br/>Country: Nigeria<br/>","Class 2023-2024<br/>Country: South Sudan<br/>","Class 2023-2024<br/>Country: India<br/>","Class 2023-2024<br/>Country: Indonesia<br/>","Class 2023-2024<br/>Country: Zimbabwe<br/>","Class 2023-2024<br/>Country: Nigeria<br/>","Class 2023-2024<br/>Country: Ghana<br/>","Class 2023-2024<br/>Country: Sudan<br/>","Class 2023-2024<br/>Country: India<br/>","Class 2023-2024<br/>Country: South Africa<br/>","Class 2023-2024<br/>Country: Armenia<br/>","Class 2023-2024<br/>Country: Nigeria<br/>","Class 2023-2024<br/>Country: Nigeria<br/>","Class 2023-2024<br/>Country: Philippines<br/>","Class 2023-2024<br/>Country: Kenya<br/>","Class 2023-2024<br/>Country: Uganda<br/>","Class 2023-2024<br/>Country: South Africa<br/>","Class 2023-2024<br/>Country: Uganda<br/>","Class 2023-2024<br/>Country: Malawi<br/>","Class 2023-2024<br/>Country: Sierra Leone<br/>","Class 2023-2024<br/>Country: Argentina<br/>","Class 2023-2024<br/>Country: Democratic Republic of Congo<br/>","Class 2023-2024<br/>Country: Argentina<br/>","Class 2023-2024<br/>Country: Syria<br/>","Class 2023-2024<br/>Country: Taiwan<br/>","Class 2023-2024<br/>Country: Peru<br/>","Class 2023-2024<br/>Country: Malaysia<br/>","Class 2024-2025<br/>Country: Nigeria<br/>","Class 2024-2025<br/>Country: Palestine<br/>","Class 2024-2025<br/>Country: Liberia<br/>","Class 2024-2025<br/>Country: Ghana<br/>","Class 2024-2025<br/>Country: Lesotho<br/>","Class 2024-2025<br/>Country: Egypt<br/>","Class 2024-2025<br/>Country: Indonesia<br/>","Class 2024-2025<br/>Country: Sierra Leone<br/>","Class 2024-2025<br/>Country: Zimbabwe<br/>","Class 2024-2025<br/>Country: Mozambique<br/>","Class 2024-2025<br/>Country: Japan<br/>","Class 2024-2025<br/>Country: Sudan<br/>","Class 2024-2025<br/>Country: Vietnam<br/>","Class 2024-2025<br/>Country: Kenya<br/>","Class 2024-2025<br/>Country: Indonesia<br/>","Class 2024-2025<br/>Country: Sri Lanka<br/>","Class 2024-2025<br/>Country: Ghana<br/>","Class 2024-2025<br/>Country: South Sudan<br/>","Class 2024-2025<br/>Country: China<br/>"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"12px","textOnly":false,"style":{"background-color":"#B9D6F2","padding":"3px 8px"},"className":"","sticky":true},null]}],"setView":[[0,20],2,[]],"limits":{"lat":[-40.98866302544996,60.01398168974742],"lng":[-105.7934196921318,178.0547589794882]}},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n    function(el, x) {\n      this.on('baselayerchange', function(e) {\n        e.layer.bringToBack();\n      })\n    }\n  ).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-student-country-map-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Country locations of IHTM students over the past 10 years
</figcaption>
</figure>
</div>
</div>
<p><br></p>
<p>We are excited to be running the <a href="https://oxford-ihtm.io/teaching/">Open and Reproducible Science in R</a> module again this year for Class 2025. Now on its third year, we are eager to get the ball rolling with our first session this Thursday (11th of October) to start off ten sessions of learning how to use R for data analysis and more importantly learning how to conduct open and reproducible research through R culminating in the 2025 edition of our yearly <strong><em>hackathon</em></strong>.</p>
<p>It has been a yearly tradition that each incoming IHTM class be given a codename as they start the Open and Reproducible Science in R module. Class 2023 was given the moniker <strong><em>Class Pokemon</em></strong> while Class 2024 had been codenamed <strong><em>Class Naruto</em></strong>.</p>
<p>We are happy to welcome Class 2025, now known also as <strong><em>Class K-pop</em></strong>, to the Open and Reproducible Science in R module!</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://oxford-ihtm.io/posts/2024-10-03-welcome-class-2025/kpop.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="450"></p>
</figure>
</div>



 ]]></description>
  <category>news</category>
  <guid>https://oxford-ihtm.io/posts/2024-10-03-welcome-class-2025/</guid>
  <pubDate>Mon, 07 Oct 2024 00:00:00 GMT</pubDate>
  <media:content url="https://oxford-ihtm.io/posts/2024-10-03-welcome-class-2025/kpop.png" medium="image" type="image/png" height="81" width="144"/>
</item>
<item>
  <title>Introducing Oxford iHealth</title>
  <dc:creator>Ernest Guevarra</dc:creator>
  <link>https://oxford-ihtm.io/posts/2024-09-26-introducing-ihealth/</link>
  <description><![CDATA[ 





<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://oxford-ihtm.io/images/ihealth_base_inline.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>It’s been a few years in the making. With ongoing collaborations with IHTM alumni on projects in Liberia and Seychelles and having initiated the <a href="https://oxford-ihtm.io/teacahing">Open and Reproducible Science in R</a> module 4 years ago, we’ve finally been able to formalise our vision of global health partnerships and collaboration.</p>
<p>Introducing <strong>Oxford iHealth</strong>, an initiative within the <a href="https://www.tropicalmedicine.ox.ac.uk/study-with-us/msc-ihtm">MSc in International Health and Tropical Medicine</a> to foster innovation, research, and education in the field of computational sciences for global health.</p>
<section id="our-approach" class="level2">
<h2 class="anchored" data-anchor-id="our-approach">Our Approach</h2>
<section id="rooted-science" class="level3">
<h3 class="anchored" data-anchor-id="rooted-science">Rooted science</h3>
<p>Our work is anchored on <em>empowering</em>, <em>enriching</em>, and <em>liberating</em> collaboration with our partners. We do not have a research agenda per se. Rather, our partners put forward their own learning needs, research priorities, and operational requirements in relation to global health challenges that they face. Together we identify existing skills and capacity, available material resources, and funds at hand upon which we jointly develop a capacity building, research implementation, and fundraising agenda that builds on existing strengths and addresses current limitations. It is, then, based on this common holistic agenda that we iterate and collaborate. This recognises what our partners often say <strong><em>“No science and research about us and for us without us”</em></strong>.</p>
</section>
<section id="open-and-reproducible" class="level3">
<h3 class="anchored" data-anchor-id="open-and-reproducible">Open and reproducible</h3>
<p>We believe that science and research is a community undertaking rather than an individual effort. Open and reproducible science and research practices are essential community building blocks. We achieve this through:</p>
<ul>
<li><p>Creating <strong>technical framework</strong> for global health science and research through robust and performant R software developed by our team and our collaborators that lower the workload/threshold between data collection, processing, and data analysis towards insight and discovery.</p></li>
<li><p>Ensuring that relevant global health <strong>data</strong> are easily accessible, <strong>tools</strong> to work with such data are more available and usable, and <strong>guidance</strong> on best practices for using such tools are widely shared.</p></li>
<li><p>Building <strong>capacity</strong> of partners and collaborators in the usage of our tools and in the practice of open and reproducible science.</p></li>
</ul>
</section>
<section id="action-oriented" class="level3">
<h3 class="anchored" data-anchor-id="action-oriented">Action-oriented</h3>
<p>We work together with partners and collaborators to devise <strong>strategies</strong> and <strong>solutions</strong> to global health challenges they face. We collectively engage in research to understand the identified problem and to find ways to bring about <strong>change</strong>.</p>
</section>
</section>
<section id="oxford-ihealth-is-about" class="level2">
<h2 class="anchored" data-anchor-id="oxford-ihealth-is-about">Oxford iHealth is about</h2>
<div class="grid">
<div class="g-col-4">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://oxford-ihtm.io/images/insight.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Modern, effective, and ethical data use driving evidence-based strategies and policies for improving global health</p>
</div>
<div class="g-col-4">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://oxford-ihtm.io/images/innovation.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>State-of-the-science analytic and computational workflows that are open and reproducible</p>
</div>
<div class="g-col-4">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://oxford-ihtm.io/images/impact.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>Discoveries that impact on global health and measures that assess global health impact</p>
</div>
</div>


</section>

 ]]></description>
  <category>news</category>
  <category>announcement</category>
  <guid>https://oxford-ihtm.io/posts/2024-09-26-introducing-ihealth/</guid>
  <pubDate>Thu, 26 Sep 2024 00:00:00 GMT</pubDate>
  <media:content url="https://oxford-ihtm.io/posts/2024-09-26-introducing-ihealth/ihealth_base_inline.png" medium="image" type="image/png" height="24" width="144"/>
</item>
<item>
  <title>Creating and styling boxplots</title>
  <dc:creator>iHealth Team</dc:creator>
  <link>https://oxford-ihtm.io/posts/2023-11-29-boxplot-ggplot/</link>
  <description><![CDATA[ 





<p>Boxplots (also called <em>box-and-whisker</em> plots) are a graphical tool used to summarise and display the distribution of a continuous variable. They are useful for several reasons:</p>
<ol type="1">
<li><p><strong>Identifying Outliers</strong>: Boxplots clearly highlight outliers (values that fall significantly outside the range of most of the data). Outliers are shown as individual points beyond the “whiskers” of the plot.</p></li>
<li><p><strong>Visualizing the Spread and Central Tendency</strong>: The box itself shows the interquartile range (IQR). The line inside the box represents the median, providing a sense of central tendency.</p></li>
<li><p><strong>Displaying the Range of Data</strong>: The boxplot gives a quick overview of the minimum, first quartile (Q1), median (Q2), third quartile (Q3), and maximum values, helping to understand the range and overall distribution.</p></li>
</ol>
<section id="key-components-of-a-boxplot" class="level2">
<h2 class="anchored" data-anchor-id="key-components-of-a-boxplot">Key Components of a Boxplot:</h2>
<ul>
<li><p><strong>Box</strong>: Represents the interquartile range (IQR).</p></li>
<li><p><strong>Whiskers</strong>: Extend to the smallest and largest data points within 1.5 times the IQR from Q1 and Q3.</p></li>
<li><p><strong>Median</strong>: The line inside the box, representing the middle value of the dataset.</p></li>
<li><p><strong>Outliers</strong>: Shown as individual points beyond the whiskers.</p></li>
</ul>
<p>Boxplots provide a concise summary, making it easier to understand the distributional properties of a dataset at a glance.</p>
<p>In this tutorial, we demonstrate how to create boxplots using <code>ggplot</code>. We will use a dataset from a nutrition survey of school children 10 years and older from Pakistan. This dataset is available from the <a href="https://oxford-ihtm.io">Oxford iHealth</a> <a href="https://github.com/OxfordIHTM/teaching_datasets">teaching datasets repository</a></p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-1" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-1-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## link to CSV from GitHub repository ----</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-1-2" class="code-annotation-target">csv_file_url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://raw.githubusercontent.com/OxfordIHTM/teaching_datasets/refs/heads/main/school_nutrition.csv"</span></span>
<span id="annotated-cell-1-3"></span>
<span id="annotated-cell-1-4"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Read CSV file ----</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-1-5" class="code-annotation-target">nut_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read.csv</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">file =</span> csv_file_url)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-1" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-lines="2" data-code-annotation="1">This URL can be retrieved from GitHub by accessing the raw version of the GitHub link to the file</span>
</dd>
<dt data-target-cell="annotated-cell-1" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-lines="5" data-code-annotation="2">Use <code>read.csv()</code> to read the CSV file from the URL</span>
</dd>
</dl>
</div>
</div>
<p>On inspection of the dataset, we see:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Show first 5 rows of data ----</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(nut_data)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  region school age_months sex weight height
1      1      1        121   2   20.6  124.6
2      1      1        121   1   27.9  130.7
3      1      1        129   2   25.7  131.4
4      1      1        133   1   27.0  135.7
5      1      1        145   2   28.5  130.5
6      1      1        148   2   35.1  142.1</code></pre>
</div>
</div>
<p>We have a <code>data.frame</code> with <strong>267</strong> rows and <strong>6</strong> columns.</p>
<p>For this tutorial, we will focus on the <code>weight</code> variable in the dataset for demonstrating how to create and style boxplots in base R.</p>
</section>
<section id="sec-create-boxplot" class="level2">
<h2 class="anchored" data-anchor-id="sec-create-boxplot">Creating a boxplot</h2>
<p>A boxplot of the weight variable for all children in the dataset can be created as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-3" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-3-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Load ggplot2 ----</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-3-2" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2)</span>
<span id="annotated-cell-3-3"></span>
<span id="annotated-cell-3-4"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Boxplot of weight of all children ----</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-3-5" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> nut_data, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mapping =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> weight)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-3-6" class="code-annotation-target">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_boxplot</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-3-7" class="code-annotation-target">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-3-8" class="code-annotation-target">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Summary of weight values for all children"</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-3-9" class="code-annotation-target">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"School children 10 years and above in Pakistan"</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-3-10" class="code-annotation-target">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Weight (kgs)"</span></span>
<span id="annotated-cell-3-11">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-3-12" class="code-annotation-target">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-3" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="2" data-code-annotation="1">Load <code>{ggplot2}</code>. If not yet installed, run <code>install.packages("ggplot2")</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="5" data-code-annotation="2">Set <code>ggplot</code> aesthetic mappings. For boxplot, we just need to set the <code>y</code> axis value aesthetic and provide an empty character <code>x</code> axis value aesthetic so that the x-axis will be treated as a character value. For more information, run <code>?ggplot</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="6" data-code-annotation="3">Plot the boxplot using <code>geom_boxplot()</code>. For more information, run <code>?geom_histogram</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="7" data-code-annotation="4">Set labels of the plot. For more information, run <code>?labs</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="8" data-code-annotation="5">Set the <code>title</code> of the plot.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="9" data-code-annotation="6">Set the <code>subtitle</code> of the plot.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="10" data-code-annotation="7">Set the <code>y</code> axis label of the plot.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="12" data-code-annotation="8">Set a plot theme. For more information, run <code>?themes</code>.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-box-all" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-box-all-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-29-boxplot-ggplot/index_files/figure-html/fig-box-all-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-box-all-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Boxplot of weight of all children
</figcaption>
</figure>
</div>
</div>
</div>
<p>A boxplot for weight by sex is created as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-4" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-4-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Convert sex to factor ----</span></span>
<span id="annotated-cell-4-2">nut_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sex <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(nut_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sex, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Male"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Female"</span>))</span>
<span id="annotated-cell-4-3"></span>
<span id="annotated-cell-4-4"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Boxplot of weight by sex of children ----</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-4-5" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> nut_data, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mapping =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> sex, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> weight)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-4-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_boxplot</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-4-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(</span>
<span id="annotated-cell-4-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Summary of weight values by sex"</span>,</span>
<span id="annotated-cell-4-9">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"School children 10 years and above in Pakistan"</span>,</span>
<span id="annotated-cell-4-10">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Sex"</span>,</span>
<span id="annotated-cell-4-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Weight (kgs)"</span></span>
<span id="annotated-cell-4-12">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-4-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-4" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="5" data-code-annotation="1">Set x-axis variable to <code>sex</code>.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-box-sex-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-box-sex-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-29-boxplot-ggplot/index_files/figure-html/fig-box-sex-1-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-box-sex-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Boxplot of weight by sex
</figcaption>
</figure>
</div>
</div>
</div>


</section>

 ]]></description>
  <category>tutorial</category>
  <category>visualisation</category>
  <guid>https://oxford-ihtm.io/posts/2023-11-29-boxplot-ggplot/</guid>
  <pubDate>Wed, 29 Nov 2023 00:00:00 GMT</pubDate>
  <media:content url="https://oxford-ihtm.io/posts/2023-11-29-boxplot-ggplot/boxplot_ggplot.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>Creating and styling boxplots</title>
  <dc:creator>iHealth Team</dc:creator>
  <link>https://oxford-ihtm.io/posts/2023-11-29-boxplot-base-r/</link>
  <description><![CDATA[ 





<p>Boxplots (also called <em>box-and-whisker</em> plots) are a graphical tool used to summarise and display the distribution of a continuous variable. They are useful for several reasons:</p>
<ol type="1">
<li><p><strong>Identifying Outliers</strong>: Boxplots clearly highlight outliers (values that fall significantly outside the range of most of the data). Outliers are shown as individual points beyond the “whiskers” of the plot.</p></li>
<li><p><strong>Visualizing the Spread and Central Tendency</strong>: The box itself shows the interquartile range (IQR). The line inside the box represents the median, providing a sense of central tendency.</p></li>
<li><p><strong>Displaying the Range of Data</strong>: The boxplot gives a quick overview of the minimum, first quartile (Q1), median (Q2), third quartile (Q3), and maximum values, helping to understand the range and overall distribution.</p></li>
</ol>
<section id="key-components-of-a-boxplot" class="level2">
<h2 class="anchored" data-anchor-id="key-components-of-a-boxplot">Key Components of a Boxplot:</h2>
<ul>
<li><p><strong>Box</strong>: Represents the interquartile range (IQR).</p></li>
<li><p><strong>Whiskers</strong>: Extend to the smallest and largest data points within 1.5 times the IQR from Q1 and Q3.</p></li>
<li><p><strong>Median</strong>: The line inside the box, representing the middle value of the dataset.</p></li>
<li><p><strong>Outliers</strong>: Shown as individual points beyond the whiskers.</p></li>
</ul>
<p>Boxplots provide a concise summary, making it easier to understand the distributional properties of a dataset at a glance.</p>
<p>In this tutorial, we demonstrate how to create boxplots using the <code>boxplot()</code> function in base R. We will use a dataset from a nutrition survey of school children 10 years and older from Pakistan. This dataset is available from the <a href="https://oxford-ihtm.io">Oxford iHealth</a> <a href="https://github.com/OxfordIHTM/teaching_datasets">teaching datasets repository</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-1" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-1-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## link to CSV from GitHub repository ----</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-1-2" class="code-annotation-target">csv_file_url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://raw.githubusercontent.com/OxfordIHTM/teaching_datasets/refs/heads/main/school_nutrition.csv"</span></span>
<span id="annotated-cell-1-3"></span>
<span id="annotated-cell-1-4"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Read CSV file ----</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-1-5" class="code-annotation-target">nut_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read.csv</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">file =</span> csv_file_url)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-1" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-lines="2" data-code-annotation="1">This URL can be retrieved from GitHub by accessing the raw version of the GitHub link to the file</span>
</dd>
<dt data-target-cell="annotated-cell-1" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-lines="5" data-code-annotation="2">Use <code>read.csv()</code> to read the CSV file from the URL</span>
</dd>
</dl>
</div>
</div>
<p>On inspection of the dataset, we see:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Show first 5 rows of data ----</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(nut_data)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  region school age_months sex weight height
1      1      1        121   2   20.6  124.6
2      1      1        121   1   27.9  130.7
3      1      1        129   2   25.7  131.4
4      1      1        133   1   27.0  135.7
5      1      1        145   2   28.5  130.5
6      1      1        148   2   35.1  142.1</code></pre>
</div>
</div>
<p>We have a <code>data.frame</code> with <strong>267</strong> rows and <strong>6</strong> columns.</p>
<p>For this tutorial, we will focus on the <code>weight</code> variable in the dataset for demonstrating how to create and style boxplots in base R.</p>
</section>
<section id="sec-create-boxplot" class="level2">
<h2 class="anchored" data-anchor-id="sec-create-boxplot">Creating a boxplot</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Boxplot of weight of all children ----</span></span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">boxplot</span>(nut_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>weight)</span></code></pre></div>
<div class="cell-output-display">
<div id="fig-box-all" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-box-all-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-29-boxplot-base-r/index_files/figure-html/fig-box-all-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-box-all-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Boxplot of weight of all children
</figcaption>
</figure>
</div>
</div>
</div>
<p>By default, the <code>boxplot()</code> function provides the plot above as output when provided values of a continuous variable. Note the default settings in terms of <code>fill</code> for the box and no plot labels.</p>
<p>We might be interested in comparing the distribution of the weight variable between male and female in the dataset. This can be done in different ways using the <code>boxplot()</code> function.</p>
<section id="default-method" class="level3">
<h3 class="anchored" data-anchor-id="default-method">Default method</h3>
<p>The default method for creating boxplots for different groupings in a dataset is to supply the different vectors of values for each group either as unnamed arguments or as a single list.</p>
<p>The following code shows one way to provide the different values of weight based on sex as unnamed arguments.</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-4" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-4-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Default boxplot method using unnamed arguments ----</span></span>
<span id="annotated-cell-4-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">boxplot</span>(</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-4-3" class="code-annotation-target">  nut_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>weight[nut_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sex <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>],</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-4-4" class="code-annotation-target">  nut_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>weight[nut_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sex <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]</span>
<span id="annotated-cell-4-5">)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-4" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="3" data-code-annotation="1">Indexing the weight variable to get values for males</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="4" data-code-annotation="2">Indexing the weight variable to get values for females</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-box-by-sex-default-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-box-by-sex-default-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-29-boxplot-base-r/index_files/figure-html/fig-box-by-sex-default-1-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-box-by-sex-default-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Boxplot of weight by sex - default method using unnamed arguments
</figcaption>
</figure>
</div>
</div>
</div>
<p>The following code shows one way to provide a single list of values of weight for males and then females.</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-5" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-5-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Default boxplot method using single list ----</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-5-2" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">boxplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">split</span>(nut_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>weight, nut_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sex))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-5" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="2" data-code-annotation="1">Use of <code>split()</code> function to split the weight values by sex. The <code>split()</code> function outputs a single list with weight values grouped by sex.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-box-by-sex-default-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-box-by-sex-default-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-29-boxplot-base-r/index_files/figure-html/fig-box-by-sex-default-2-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-box-by-sex-default-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Boxplot of weight by sex - default method using single list
</figcaption>
</figure>
</div>
</div>
</div>
<p>Both approaches produce the same plot. Each boxplot is labeled according to the values of the grouping variable which in this case is sex with <code>1</code> corresponding to males and <code>2</code> corresponding to females.</p>
</section>
<section id="formula-method" class="level3">
<h3 class="anchored" data-anchor-id="formula-method">Formula method</h3>
<p>The <code>boxplot()</code> function has a formula method for plotting grouping for a variable of interest as shown below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-6" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-6-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Boxplot of weight by sex using formula method ----</span></span>
<span id="annotated-cell-6-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">boxplot</span>(</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-6-3" class="code-annotation-target">    weight <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> sex,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-6-4" class="code-annotation-target">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> nut_data</span>
<span id="annotated-cell-6-5">)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-6" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="3" data-code-annotation="1">This is the standard formula specification for the weight variable being grouped by the sex variable. We use the <code>~</code> operator to express the formula.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="4" data-code-annotation="2">For formula method, the <code>data</code> argument is required and this is where you provide the name of the object containing the dataset that has the variable <code>weight</code> and <code>sex</code> used in the formula</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-box-by-sex-formula" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-box-by-sex-formula-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-29-boxplot-base-r/index_files/figure-html/fig-box-by-sex-formula-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-box-by-sex-formula-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Boxplot of weight by sex - formula method
</figcaption>
</figure>
</div>
</div>
</div>
<p>With the formula method, the output is similar with the previous approach with the only difference being the <code>x</code> and <code>y</code> labels have been set using the values in the formula. From a syntax perspective, the formula method is more compact without requiring any other processing of the input dataset.</p>
</section>
</section>
<section id="sec-style-boxplot" class="level2">
<h2 class="anchored" data-anchor-id="sec-style-boxplot">Styling a boxplot</h2>
<p>The boxplots we’ve created so far are quite basic and would benefit from a little bit more styling. At the minimum, we would like to:</p>
<ol type="1">
<li>Add a title to the plot;</li>
<li>Add more informative labels to each boxplot;</li>
<li>Add x- and y-axis labels (or update them to look more presentable and complete); and,</li>
<li>Modify some plot layout features such as box width and plot frames as appropriate.</li>
</ol>
<section id="adding-a-title" class="level3">
<h3 class="anchored" data-anchor-id="adding-a-title">Adding a title</h3>
<p>Since the <code>boxplot()</code> functions is built on the generic <code>plot()</code> base function in R, named graphical parameters/arguments used in <code>plot()</code> can also be specified in <code>boxplot()</code>. So, to add a title to a boxplot, we do this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-7" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-7-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">boxplot</span>(</span>
<span id="annotated-cell-7-2">  nut_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>weight,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-7-3" class="code-annotation-target">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">main =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Summary of weight values for all children"</span></span>
<span id="annotated-cell-7-4">)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-7" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="3" data-code-annotation="1">We use the graphical parameter <code>main</code> to set the title of the boxplot</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-box-style-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-box-style-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-29-boxplot-base-r/index_files/figure-html/fig-box-style-1-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-box-style-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Boxplot of weight with title
</figcaption>
</figure>
</div>
</div>
</div>
<p>To add a title to the the boxplot for weight by sex, we do this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">boxplot</span>(</span>
<span id="cb4-2">  weight <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> sex,</span>
<span id="cb4-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> nut_data,</span>
<span id="cb4-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">main =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Summary of weight values by sex of children"</span></span>
<span id="cb4-5">)</span></code></pre></div>
<div class="cell-output-display">
<div id="fig-box-by-sex-style-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-box-by-sex-style-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-29-boxplot-base-r/index_files/figure-html/fig-box-by-sex-style-1-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-box-by-sex-style-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Boxplot of weight by sex with title
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="adding-names-to-each-boxplot" class="level3">
<h3 class="anchored" data-anchor-id="adding-names-to-each-boxplot">Adding names to each boxplot</h3>
<p>For the boxplot of weight by sex, it would be more appropriate for the labels under each boxplot to be more informative of the values they represent. Here, instead of 1 and 2, it would be better to have “Male” and “Female” as labels. We can do this as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-9" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-9-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">boxplot</span>(</span>
<span id="annotated-cell-9-2">  weight <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> sex,</span>
<span id="annotated-cell-9-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> nut_data,</span>
<span id="annotated-cell-9-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">main =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Summary of weight values by sex of children"</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-9" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-9-5" class="code-annotation-target">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Male"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Female"</span>)</span>
<span id="annotated-cell-9-6">)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-9" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-9" data-code-lines="5" data-code-annotation="1">The <code>names</code> argument in the <code>boxplot()</code> function is used to give different labels/values to the different boxplots instead of the values provided by the data.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-box-by-sex-style-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-box-by-sex-style-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-29-boxplot-base-r/index_files/figure-html/fig-box-by-sex-style-2-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-box-by-sex-style-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: Boxplot of weight by sex with title and boxplot labels
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="adding-x-and-y-axis-labels" class="level3">
<h3 class="anchored" data-anchor-id="adding-x-and-y-axis-labels">Adding x and y axis labels</h3>
<p>We can again use generic graphical parameters to set x and y axis labels to a boxplot as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-10" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-10-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">boxplot</span>(</span>
<span id="annotated-cell-10-2">  nut_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>weight,</span>
<span id="annotated-cell-10-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">main =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Summary of weight values for all children"</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-10-4" class="code-annotation-target">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Weight (kgs)"</span></span>
<span id="annotated-cell-10-5">)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-10" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-10" data-code-lines="4" data-code-annotation="1">We use the <code>ylab</code> graphical parameter to specify a label for the y-axis.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-box-style-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-box-style-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-29-boxplot-base-r/index_files/figure-html/fig-box-style-2-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-box-style-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: Boxplot of weight with title and x and y labels
</figcaption>
</figure>
</div>
</div>
</div>
<p>For the boxplot for weight values for all children, an x axis label is not really necessary.</p>
<p>We can set the x and y axis labels to the boxplot for weight by sex as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-11" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-11-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">boxplot</span>(</span>
<span id="annotated-cell-11-2">  weight <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> sex,</span>
<span id="annotated-cell-11-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> nut_data,</span>
<span id="annotated-cell-11-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">main =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Summary of weight values by sex of children"</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-11-5" class="code-annotation-target">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Sex"</span>,</span>
<span id="annotated-cell-11-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Weight (kgs)"</span>,</span>
<span id="annotated-cell-11-7">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Male"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Female"</span>)</span>
<span id="annotated-cell-11-8">)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-11" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="5" data-code-annotation="1">We use the <code>xlab</code> graphical parameter to specify a label for the x-axis.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-box-by-sex-style-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-box-by-sex-style-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-29-boxplot-base-r/index_files/figure-html/fig-box-by-sex-style-3-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-box-by-sex-style-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: Boxplot of weight by sex with title and x and y labels
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="modifying-other-plot-layout-options" class="level3">
<h3 class="anchored" data-anchor-id="modifying-other-plot-layout-options">Modifying other plot layout options</h3>
<p>Further modifications can be applied to the boxplot that may enhance their style. The following code adjusts the width of the boxplots and removes the plot frame.</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-12" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-12-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">boxplot</span>(</span>
<span id="annotated-cell-12-2">  weight <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> sex,</span>
<span id="annotated-cell-12-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> nut_data,</span>
<span id="annotated-cell-12-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">main =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Summary of weight values by sex of children"</span>,</span>
<span id="annotated-cell-12-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Sex"</span>,</span>
<span id="annotated-cell-12-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Weight (kgs)"</span>,</span>
<span id="annotated-cell-12-7">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Male"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Female"</span>),</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-12-8" class="code-annotation-target">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">boxwex =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-12-9" class="code-annotation-target">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">frame.plot =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span></span>
<span id="annotated-cell-12-10">)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-12" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="8" data-code-annotation="1">Set value for <code>boxwex</code> parameter to scale the size of the boxes. This is particularly useful when there are only a few groups to create boxplots of.</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="9" data-code-annotation="2">Set <code>frame.plot</code> graphical parameter to FALSE to remove the plot frame.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-box-by-sex-style-4" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-box-by-sex-style-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-29-boxplot-base-r/index_files/figure-html/fig-box-by-sex-style-4-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-box-by-sex-style-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10: Boxplot of weight by sex with title and labels and with modified layout
</figcaption>
</figure>
</div>
</div>
</div>


</section>
</section>

 ]]></description>
  <category>tutorial</category>
  <category>visualisation</category>
  <guid>https://oxford-ihtm.io/posts/2023-11-29-boxplot-base-r/</guid>
  <pubDate>Wed, 29 Nov 2023 00:00:00 GMT</pubDate>
  <media:content url="https://oxford-ihtm.io/posts/2023-11-29-boxplot-base-r/boxplot_base.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>Creating and styling histograms</title>
  <dc:creator>iHealth Team</dc:creator>
  <link>https://oxford-ihtm.io/posts/2023-11-28-histogram-base-r/</link>
  <description><![CDATA[ 





<p>A histogram is a graphical representation of the distribution of numerical data. It’s useful for:</p>
<ol type="1">
<li><p><strong>Visualizing Frequency Distribution</strong>: It shows how data is distributed over a range of values, displaying the frequency of data points within specific intervals (called bins).</p></li>
<li><p><strong>Identifying Patterns</strong>: Histograms help in spotting patterns such as normal distribution, skewness (left or right), or multimodal distributions (having more than one peak).</p></li>
<li><p><strong>Comparing Data</strong>: Histograms make it easy to compare the distribution of different datasets, especially when analyzing large volumes of data.</p></li>
</ol>
<p>In this tutorial, we demonstrate how to create a histogram using the <code>hist()</code> function in base R. We will use a dataset from a nutrition survey of school children 10 years and older from Pakistan. This dataset is available from the <a href="https://oxford-ihtm.io">Oxford iHealth</a> <a href="https://github.com/OxfordIHTM/teaching_datasets">teaching datasets repository</a>.</p>
<section id="reading-the-dataset" class="level2">
<h2 class="anchored" data-anchor-id="reading-the-dataset">Reading the dataset</h2>
<p>The school nutrition dataset is available as a CSV file from the <a href="https://github.com/OxfordIHTM/teaching_datasets">teaching datasets repository</a>. We can either download this CSV file and read it into R. Or we can read the CSV file directly from the repository. This can be done as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-1" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-1-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## link to CSV from GitHub repository ----</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-1-2" class="code-annotation-target">csv_file_url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://raw.githubusercontent.com/OxfordIHTM/teaching_datasets/refs/heads/main/school_nutrition.csv"</span></span>
<span id="annotated-cell-1-3"></span>
<span id="annotated-cell-1-4"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Read CSV file ----</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-1-5" class="code-annotation-target">nut_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read.csv</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">file =</span> csv_file_url)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-1" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-lines="2" data-code-annotation="1">This URL can be retrieved from GitHub by accessing the raw version of the GitHub link to the file</span>
</dd>
<dt data-target-cell="annotated-cell-1" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-lines="5" data-code-annotation="2">Use <code>read.csv()</code> to read the CSV file from the URL</span>
</dd>
</dl>
</div>
</div>
<p>On inspection of the dataset, we see:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Show first 5 rows of data ----</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(nut_data)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  region school age_months sex weight height
1      1      1        121   2   20.6  124.6
2      1      1        121   1   27.9  130.7
3      1      1        129   2   25.7  131.4
4      1      1        133   1   27.0  135.7
5      1      1        145   2   28.5  130.5
6      1      1        148   2   35.1  142.1</code></pre>
</div>
</div>
<p>We have a <code>data.frame</code> with <strong>267</strong> rows and <strong>6</strong> columns.</p>
<p>For this tutorial, we will focus on the <code>weight</code> variable in the dataset for demonstrating how to create and style histograms in base R.</p>
</section>
<section id="sec-create-histogram" class="level2">
<h2 class="anchored" data-anchor-id="sec-create-histogram">Creating a histogram</h2>
<p>A histogram of the weight variable can be created as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">### Histogram of weight of all children ----</span></span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">hist</span>(nut_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>weight)</span></code></pre></div>
<div class="cell-output-display">
<div id="fig-hist-all" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist-all-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-28-histogram-base-r/index_files/figure-html/fig-hist-all-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist-all-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Histogram of weight of all children
</figcaption>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>By default, the <code>hist()</code> function already creates a <em>title</em> and <em>x</em> and <em>y</em> axis labels to the histogram.</p>
<p>We might be interested in comparing the distribution of the weight variable between male and female in the dataset. We can create two histograms for weight. One for the males in the dataset and one for the females in the dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">### Histogram of weight of male children ----</span></span>
<span id="cb4-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">hist</span>(nut_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>weight[nut_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sex <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])</span></code></pre></div>
<div class="cell-output-display">
<div id="fig-hist-male" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist-male-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-28-histogram-base-r/index_files/figure-html/fig-hist-male-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist-male-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Histogram of weight for male children
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">### Histogram of weight of female children ----</span></span>
<span id="cb5-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">hist</span>(nut_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>weight[nut_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sex <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>])</span></code></pre></div>
<div class="cell-output-display">
<div id="fig-hist-female" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist-female-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-28-histogram-base-r/index_files/figure-html/fig-hist-female-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist-female-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Histogram of weight for female children
</figcaption>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>We can simplify the above code by using the <code>with()</code> and <code>by()</code> functions. We can plot the weights of all the children using this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Use with to plot weight for all children ----</span></span>
<span id="cb6-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(nut_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">hist</span>(weight))</span></code></pre></div>
<div class="cell-output-display">
<div id="fig-hist-all-with" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist-all-with-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-28-histogram-base-r/index_files/figure-html/fig-hist-all-with-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist-all-with-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Histogram of weight for all children using with
</figcaption>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>We notice that using <code>with()</code>, the default <code>title</code> used is tidier as is the <code>x</code> and <code>y</code> axis labels.</p>
<p>We can use <code>with()</code> and <code>by()</code> to plot the histogram of weight values for males and females as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Use with to plot weight for male children ----</span></span>
<span id="cb7-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(nut_data, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">by</span>(weight, sex, hist))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>sex: 1
$breaks
[1] 15 20 25 30 35 40 45 50 55

$counts
[1]  3 31 78 35 16  5  4  2

$density
[1] 0.003448276 0.035632184 0.089655172 0.040229885 0.018390805 0.005747126
[7] 0.004597701 0.002298851

$mids
[1] 17.5 22.5 27.5 32.5 37.5 42.5 47.5 52.5

$xname
[1] "dd[x, ]"

$equidist
[1] TRUE

attr(,"class")
[1] "histogram"
------------------------------------------------------------ 
sex: 2
$breaks
[1] 10 15 20 25 30 35 40 45 50

$counts
[1]  1  2 22 28 28 10  1  1

$density
[1] 0.002150538 0.004301075 0.047311828 0.060215054 0.060215054 0.021505376
[7] 0.002150538 0.002150538

$mids
[1] 12.5 17.5 22.5 27.5 32.5 37.5 42.5 47.5

$xname
[1] "dd[x, ]"

$equidist
[1] TRUE

attr(,"class")
[1] "histogram"</code></pre>
</div>
<div class="cell-output-display">
<div id="fig-hist-sex-with-1" class="quarto-float quarto-figure quarto-figure-center anchored" width="672">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist-sex-with-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-28-histogram-base-r/index_files/figure-html/fig-hist-sex-with-1.png" id="fig-hist-sex-with-1" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-hist-sex-with-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div id="fig-hist-sex-with-2" class="quarto-float quarto-figure quarto-figure-center anchored" width="672">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist-sex-with-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-28-histogram-base-r/index_files/figure-html/fig-hist-sex-with-2.png" id="fig-hist-sex-with-2" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-hist-sex-with-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6
</figcaption>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>This gives us two plots, one for males first and then the second for females, with just one line of code. However, we notice also that this produces a side-effect output which is a list of class “histogram” with values for <code>breaks</code>, <code>counts</code>, <code>density</code>, <code>mids</code>, <code>xname</code>, and <code>equidist</code>. This is good to note as this indicates to us that other than the histogram plot output that is visibly produced, there is an invisibly produced output of values that can be used for further analytical purposes laster on.</p>
</section>
<section id="sec-style-histogram" class="level2">
<h2 class="anchored" data-anchor-id="sec-style-histogram">Styling a histogram</h2>
<p>The above plots for histograms of weight for all children and weight for male and female children are a good start. But, for them to be usable in a report or a publication, we need to add some appropriate styling.</p>
<section id="sec-label-histogram" class="level3">
<h3 class="anchored" data-anchor-id="sec-label-histogram">Labels</h3>
<p>As noted above, the plot created using the <code>with()</code> function is already labeled appropriately (<em>title</em>, <em>x</em> and <em>y</em> axis labels). However, if we wanted to further customise the labels, we can do this as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-8" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-8-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Customise labels of histogram ----</span></span>
<span id="annotated-cell-8-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(</span>
<span id="annotated-cell-8-3">  nut_data,</span>
<span id="annotated-cell-8-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">hist</span>(</span>
<span id="annotated-cell-8-5">    weight, </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-8" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-8-6" class="code-annotation-target">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">main =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Histogram of weight"</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-8" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-8-7" class="code-annotation-target">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"weight (kgs)"</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-8" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-8-8" class="code-annotation-target">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"n"</span></span>
<span id="annotated-cell-8-9">  )</span>
<span id="annotated-cell-8-10">)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-8" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-8" data-code-lines="6" data-code-annotation="1"><code>main</code> is the argument to set the plot title</span>
</dd>
<dt data-target-cell="annotated-cell-8" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-8" data-code-lines="7" data-code-annotation="2"><code>xlab</code> is the argument to set the x-axis label</span>
</dd>
<dt data-target-cell="annotated-cell-8" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-8" data-code-lines="8" data-code-annotation="3"><code>ylab</code> si the argument to set the y-axis label</span>
</dd>
</dl>
</div>
</div>
<p>The <code>hist()</code> function allows for specifying graphical parameters arguments such as <code>main</code>, <code>xlab</code>, and <code>ylab</code> used for labeling plots to produce this histogram:</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-hist-all-label-b" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist-all-label-b-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-28-histogram-base-r/index_files/figure-html/fig-hist-all-label-b-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist-all-label-b-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: Histogram of weight with customised labels
</figcaption>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>For the histograms of weight of male and female children, we first produce histograms for male and female children and store the list output into an object whilst the plot output is suppressed.</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-9" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-9-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Customise labels of histogram ----</span></span>
<span id="annotated-cell-9-2"></span>
<span id="annotated-cell-9-3"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">### Create plot for each sex and assign to object ----</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-9" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-9-4" class="code-annotation-target">hist_sex <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span>(</span>
<span id="annotated-cell-9-5">  nut_data,                                   </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-9" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-9-6" class="code-annotation-target">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">by</span>(weight, sex, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">FUN =</span> hist, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span>
<span id="annotated-cell-9-7">)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-9" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-9" data-code-lines="4" data-code-annotation="1">We use the side effect output of <code>hist</code> function and assign it to <code>hist_sex</code> so we can use it in the next steps for plotting.</span>
</dd>
<dt data-target-cell="annotated-cell-9" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-9" data-code-lines="6" data-code-annotation="2">Set <code>plot = FALSE</code> so that only side effect output is produced.</span>
</dd>
</dl>
</div>
</div>
<p>Then, we plot the histograms for males and females separately by accessing the values that can create these plots from the object <code>hist_sex</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-10" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-10-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">### Plot histogram for male children ----</span></span>
<span id="annotated-cell-10-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-10-3" class="code-annotation-target">  hist_sex[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]],</span>
<span id="annotated-cell-10-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">main =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Histogram of weight - males"</span>,</span>
<span id="annotated-cell-10-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"weight (kgs)"</span>,</span>
<span id="annotated-cell-10-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"n"</span></span>
<span id="annotated-cell-10-7">)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-10" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-10" data-code-lines="3" data-code-annotation="1">Access the first set of values from <code>hist_sex</code> using indexing of a list to plot the histogram for male children</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-hist-male-label" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist-male-label-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-28-histogram-base-r/index_files/figure-html/fig-hist-male-label-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist-male-label-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: Histogram of weight for male children with customised labels
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-11" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-11-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">### Plot histogram for female children ----</span></span>
<span id="annotated-cell-11-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-11-3" class="code-annotation-target">  hist_sex[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]],</span>
<span id="annotated-cell-11-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">main =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Histogram of weight - females"</span>,</span>
<span id="annotated-cell-11-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"weight (kgs)"</span>,</span>
<span id="annotated-cell-11-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"n"</span></span>
<span id="annotated-cell-11-7">)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-11" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="3" data-code-annotation="2">Access the second set of values from <code>hist_sex</code> using indexing of a list to plot the histogram for female children</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-hist-female-label" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist-female-label-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-28-histogram-base-r/index_files/figure-html/fig-hist-female-label-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist-female-label-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: Histogram of weight for female children with customised labels
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="sec-layout-histogram" class="level3">
<h3 class="anchored" data-anchor-id="sec-layout-histogram">Layout</h3>
<p>The layout of the plot for all children looks quite good already so we don’t do anything else with regard to layout.</p>
<p>For the histogram for weight of male and female children, the two plots get produced one after the other in separate plots. So, if we want to compare them, it is a bit difficult because we don’t see them side-by-side or in the same plot one on top of the other. Tt would be good if we can find a layout that will allow us to make comparisons between the two.</p>
<section id="layered" class="level4">
<h4 class="anchored" data-anchor-id="layered">Layered</h4>
<p>We can try a layered layout in that one plot is on top of the other plot to aid comparison.</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-12" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-12-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">### Plot female weight histogram on top of male weight histogram ----</span></span>
<span id="annotated-cell-12-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(</span>
<span id="annotated-cell-12-3">  hist_sex[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]],</span>
<span id="annotated-cell-12-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">main =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Histogram of weight by sex"</span>,</span>
<span id="annotated-cell-12-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"weight (kgs)"</span>,</span>
<span id="annotated-cell-12-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"n"</span>  </span>
<span id="annotated-cell-12-7">)</span>
<span id="annotated-cell-12-8"></span>
<span id="annotated-cell-12-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(</span>
<span id="annotated-cell-12-10">  hist_sex[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]], </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-12-11" class="code-annotation-target">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">add =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span></span>
<span id="annotated-cell-12-12">)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-12" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="11" data-code-annotation="1">This adds the the second plot (for females) as a layer on top of the first plot (for males)</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-hist-sex-layered-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist-sex-layered-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-28-histogram-base-r/index_files/figure-html/fig-hist-sex-layered-1-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist-sex-layered-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10: Histogram of weight by sex with layered layout
</figcaption>
</figure>
</div>
</div>
</div>
<p>The resulting plot is still not quite right. On the x-axis, it seems one of the plots has the lower bins cut off. We can make the following improvements to see the full spread of values on the x-axis:</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-13" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-13-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">### Plot female weight histogram on top of male weight histogram ----</span></span>
<span id="annotated-cell-13-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(</span>
<span id="annotated-cell-13-3">  hist_sex[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]],</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-13-4" class="code-annotation-target">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlim =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">60</span>),</span>
<span id="annotated-cell-13-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">main =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Histogram of weight by sex"</span>,</span>
<span id="annotated-cell-13-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"weight (kgs)"</span>,</span>
<span id="annotated-cell-13-7">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"n"</span>  </span>
<span id="annotated-cell-13-8">)</span>
<span id="annotated-cell-13-9"></span>
<span id="annotated-cell-13-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(</span>
<span id="annotated-cell-13-11">  hist_sex[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]], </span>
<span id="annotated-cell-13-12">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">add =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span></span>
<span id="annotated-cell-13-13">)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-13" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="4" data-code-annotation="1">Specifying the limits of the x-axis will allow the lowest values and highest values for both male and female weights to be show on the joint plot.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-hist-sex-layered-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist-sex-layered-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-28-histogram-base-r/index_files/figure-html/fig-hist-sex-layered-2-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist-sex-layered-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11: Histogram of weight by sex with layered layout
</figcaption>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>The resulting plot is still not quite right. The plot is not clear in differentiating the plot for males and females. Use of colour might work here (see Section&nbsp;3.3).</p>
</section>
<section id="side-by-side" class="level4">
<h4 class="anchored" data-anchor-id="side-by-side">Side-by-side</h4>
<p>We can try a side-by-side layout to aid comparison.</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-14" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-14-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Plot male and female weight histogram side-by-side ----</span></span>
<span id="annotated-cell-14-2"></span>
<span id="annotated-cell-14-3"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">### Setup plotting window ----</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-14-4" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">par</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mfcol =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>))</span>
<span id="annotated-cell-14-5"></span>
<span id="annotated-cell-14-6"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">### Plot male weight histogram ----</span></span>
<span id="annotated-cell-14-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(</span>
<span id="annotated-cell-14-8">  hist_sex[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]],</span>
<span id="annotated-cell-14-9">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlim =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">60</span>),</span>
<span id="annotated-cell-14-10">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylim =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">80</span>),</span>
<span id="annotated-cell-14-11">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">main =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="annotated-cell-14-12">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Male"</span>,</span>
<span id="annotated-cell-14-13">)</span>
<span id="annotated-cell-14-14"></span>
<span id="annotated-cell-14-15"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">### Plot female weight histogram ----</span></span>
<span id="annotated-cell-14-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(</span>
<span id="annotated-cell-14-17">  hist_sex[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]],</span>
<span id="annotated-cell-14-18">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlim =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">60</span>),</span>
<span id="annotated-cell-14-19">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylim =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">80</span>),</span>
<span id="annotated-cell-14-20">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">main =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="annotated-cell-14-21">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Female"</span></span>
<span id="annotated-cell-14-22">)</span>
<span id="annotated-cell-14-23"></span>
<span id="annotated-cell-14-24"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">### Return plotting window to original ----</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-14-25" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">par</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mfcol =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))</span>
<span id="annotated-cell-14-26"></span>
<span id="annotated-cell-14-27"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">### Add title ----</span></span>
<span id="annotated-cell-14-28"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">title</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">main =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Histogram of weight by sex"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"weight (kgs)"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-14" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="4" data-code-annotation="1">This changes the default graphical window to 1 row and 2 columns.</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="25" data-code-annotation="2">Return graphical window to original.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-hist-sex-layout-side-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist-sex-layout-side-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-28-histogram-base-r/index_files/figure-html/fig-hist-sex-layout-side-1-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist-sex-layout-side-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12: Histogram of weight by sex with side-by-side layout
</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="sec-colour-histogram" class="level3">
<h3 class="anchored" data-anchor-id="sec-colour-histogram">Colour</h3>
<p>We can utilise colour to distinguish two histograms that we are comparing. Using the example above of the layered histogram, we can distinguish the male and female weight histogram by using colour as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-15" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-15-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">### Plot female weight histogram on top of male weight histogram ----</span></span>
<span id="annotated-cell-15-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(</span>
<span id="annotated-cell-15-3">  hist_sex[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]],</span>
<span id="annotated-cell-15-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">col =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blue"</span>,</span>
<span id="annotated-cell-15-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlim =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">60</span>),</span>
<span id="annotated-cell-15-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">main =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Histogram of weight by sex"</span>,</span>
<span id="annotated-cell-15-7">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"weight (kgs)"</span>,</span>
<span id="annotated-cell-15-8">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"n"</span></span>
<span id="annotated-cell-15-9">)</span>
<span id="annotated-cell-15-10"></span>
<span id="annotated-cell-15-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(</span>
<span id="annotated-cell-15-12">  hist_sex[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]],</span>
<span id="annotated-cell-15-13">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">col =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lightblue"</span>,</span>
<span id="annotated-cell-15-14">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">add =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span></span>
<span id="annotated-cell-15-15">)</span>
<span id="annotated-cell-15-16"></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-15-17" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">legend</span>(</span>
<span id="annotated-cell-15-18">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"topright"</span>,                                          </span>
<span id="annotated-cell-15-19">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Male"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Female"</span>),</span>
<span id="annotated-cell-15-20">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blue"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lightblue"</span>),</span>
<span id="annotated-cell-15-21">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">bty =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"n"</span>,                        </span>
<span id="annotated-cell-15-22">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cex =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>,</span>
<span id="annotated-cell-15-23">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y.intersp =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span></span>
<span id="annotated-cell-15-24">)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-15" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="17" data-code-annotation="1">This is how you add a basic legend.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-hist-sex-layout-layered-colour" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist-sex-layout-layered-colour-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-28-histogram-base-r/index_files/figure-html/fig-hist-sex-layout-layered-colour-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist-sex-layout-layered-colour-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;13: Histogram of weight by sex with layered layout using colour
</figcaption>
</figure>
</div>
</div>
</div>


</section>
</section>

 ]]></description>
  <category>tutorial</category>
  <category>visualisation</category>
  <guid>https://oxford-ihtm.io/posts/2023-11-28-histogram-base-r/</guid>
  <pubDate>Tue, 28 Nov 2023 00:00:00 GMT</pubDate>
  <media:content url="https://oxford-ihtm.io/posts/2023-11-28-histogram-base-r/histogram_base.png" medium="image" type="image/png" height="72" width="144"/>
</item>
<item>
  <title>Creating and styling histograms</title>
  <dc:creator>iHealth Team</dc:creator>
  <link>https://oxford-ihtm.io/posts/2023-11-28-histogram-ggplot/</link>
  <description><![CDATA[ 





<p>A histogram is a graphical representation of the distribution of numerical data. It’s useful for:</p>
<ol type="1">
<li><p><strong>Visualizing Frequency Distribution</strong>: It shows how data is distributed over a range of values, displaying the frequency of data points within specific intervals (called bins).</p></li>
<li><p><strong>Identifying Patterns</strong>: Histograms help in spotting patterns such as normal distribution, skewness (left or right), or multimodal distributions (having more than one peak).</p></li>
<li><p><strong>Comparing Data</strong>: Histograms make it easy to compare the distribution of different datasets, especially when analyzing large volumes of data.</p></li>
</ol>
<p>In this tutorial, we demonstrate how to create a histogram using the <code>ggplot</code>. We will use a dataset from a nutrition survey of school children 10 years and older from Pakistan. This dataset is available from the <a href="https://oxford-ihtm.io">Oxford iHealth</a> <a href="https://github.com/OxfordIHTM/teaching_datasets">teaching datasets repository</a>.</p>
<section id="reading-the-dataset" class="level2">
<h2 class="anchored" data-anchor-id="reading-the-dataset">Reading the dataset</h2>
<p>The school nutrition dataset is available as a CSV file from the <a href="https://github.com/OxfordIHTM/teaching_datasets">teaching datasets repository</a>. We can either download this CSV file and read it into R. Or we can read the CSV file directly from the repository. This can be done as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-1" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-1-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## link to CSV from GitHub repository ----</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-1-2" class="code-annotation-target">csv_file_url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://raw.githubusercontent.com/OxfordIHTM/teaching_datasets/refs/heads/main/school_nutrition.csv"</span></span>
<span id="annotated-cell-1-3"></span>
<span id="annotated-cell-1-4"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Read CSV file ----</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-1-5" class="code-annotation-target">nut_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read.csv</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">file =</span> csv_file_url)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-1" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-lines="2" data-code-annotation="1">This URL can be retrieved from GitHub by accessing the raw version of the GitHub link to the file</span>
</dd>
<dt data-target-cell="annotated-cell-1" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-lines="5" data-code-annotation="2">Use <code>read.csv()</code> to read the CSV file from the URL</span>
</dd>
</dl>
</div>
</div>
<p>On inspection of the dataset, we see:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Show first 5 rows of data ----</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(nut_data)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  region school age_months sex weight height
1      1      1        121   2   20.6  124.6
2      1      1        121   1   27.9  130.7
3      1      1        129   2   25.7  131.4
4      1      1        133   1   27.0  135.7
5      1      1        145   2   28.5  130.5
6      1      1        148   2   35.1  142.1</code></pre>
</div>
</div>
<p>We have a <code>data.frame</code> with <strong>267</strong> rows and <strong>6</strong> columns.</p>
<p>For this tutorial, we will focus on the <code>weight</code> variable in the dataset for demonstrating how to create and style histograms in base R.</p>
</section>
<section id="sec-create-histogram" class="level2">
<h2 class="anchored" data-anchor-id="sec-create-histogram">Creating a histogram</h2>
<section id="create-histogram-for-weight-for-all-children" class="level3">
<h3 class="anchored" data-anchor-id="create-histogram-for-weight-for-all-children">Create histogram for weight for all children</h3>
<p>A histogram of the weight variable for all children in the dataset can be created as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-3" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-3-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Load ggplot2 ----</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-3-2" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2)</span>
<span id="annotated-cell-3-3"></span>
<span id="annotated-cell-3-4"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Histogram of weight of all children ----</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-3-5" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> nut_data, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mapping =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> weight)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-3-6" class="code-annotation-target">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_histogram</span>(</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-3-7" class="code-annotation-target">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray70"</span>,</span>
<span id="annotated-cell-3-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray50"</span></span>
<span id="annotated-cell-3-9">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>                                                             </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-3-10" class="code-annotation-target">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-3-11" class="code-annotation-target">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Histogram of weight"</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-3-12" class="code-annotation-target">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"School children 10 years and above in Pakistan"</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-3-13" class="code-annotation-target">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Weight (kgs)"</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-3-14" class="code-annotation-target">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"n"</span></span>
<span id="annotated-cell-3-15">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-3-16" class="code-annotation-target">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-3" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="2" data-code-annotation="1">Load <code>{ggplot2}</code>. If not yet installed, run <code>install.packages("ggplot2")</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="5" data-code-annotation="2">Set <code>ggplot</code> aesthetic mappings. For histograms, we just need to set the <code>x</code> axis value aesthetic; for more information, run <code>?ggplot</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="6" data-code-annotation="3">Plot the histogram using <code>geom_histogram()</code>; for more information, run <code>?geom_histogram</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="7,8" data-code-annotation="4">Change colour of histogram bars from default (dark gray), <code>fill</code> sets the colour inside the histogram bar while <code>colour</code> sets the colour of the outline of the histogram bar.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="10" data-code-annotation="5">Set labels of the plot; for more information, run <code>?labs</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="11" data-code-annotation="6">Set the <code>title</code> of the plot.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="12" data-code-annotation="7">Set the <code>subtitle</code> of the plot.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="13" data-code-annotation="8">Set the <code>x</code> axis label of the plot.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="14" data-code-annotation="9">Set the <code>y</code> axis label of the plot.</span>
</dd>
<dt data-target-cell="annotated-cell-3" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="16" data-code-annotation="10">Set a plot theme; for more information, run <code>?themes</code>.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-hist-all" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist-all-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-28-histogram-ggplot/index_files/figure-html/fig-hist-all-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist-all-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Histogram of weight of all children
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="create-histogram-for-weight-by-sex-of-children" class="level3">
<h3 class="anchored" data-anchor-id="create-histogram-for-weight-by-sex-of-children">Create histogram for weight by sex of children</h3>
<p>To create a histogram of the weight by the sex of the child, we can use the following code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-4" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-4-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Histogram of weight by sex ----</span></span>
<span id="annotated-cell-4-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(</span>
<span id="annotated-cell-4-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> nut_data, </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-4-4" class="code-annotation-target">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mapping =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> weight, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(sex))</span>
<span id="annotated-cell-4-5">) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-4-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_histogram</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-4-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(</span>
<span id="annotated-cell-4-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Histogram of weight by sex"</span>,</span>
<span id="annotated-cell-4-9">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"School children 10 years and above in Pakistan"</span>,</span>
<span id="annotated-cell-4-10">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Weight (kgs)"</span>,</span>
<span id="annotated-cell-4-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"n"</span></span>
<span id="annotated-cell-4-12">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-4-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-4" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="4" data-code-annotation="1">We add an aesthetic mapping for <code>fill</code> to the variable <code>sex</code> in the dataset so that the histogram for males and females will be given different <code>fill</code> values. We converted the <code>sex</code> variable to a factor (from integer) to make the <code>fill</code> values discrete (as compared to continuous).</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-hist-sex-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist-sex-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-28-histogram-ggplot/index_files/figure-html/fig-hist-sex-1-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist-sex-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Histogram of weight by sex
</figcaption>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>The plot looks good but we can still improve on the following things:</p>
<ul>
<li>The plot is using default colours provided by <code>ggplot</code>. We can try to use other colours.</li>
<li>The legend label can be made to just say sex.</li>
<li>The legend can show Male and Female instead of 1 and 2.</li>
</ul>
<p>The following code can make these improvements.</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-5" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-5-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Histogram of weight by sex ----</span></span>
<span id="annotated-cell-5-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(</span>
<span id="annotated-cell-5-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> nut_data, </span>
<span id="annotated-cell-5-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mapping =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> weight, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(sex))</span>
<span id="annotated-cell-5-5">) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-5-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_histogram</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-5-7" class="code-annotation-target">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_manual</span>(</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-5-8" class="code-annotation-target">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">name =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Sex"</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-5-9" class="code-annotation-target">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Male"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Female"</span>),</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-5-10" class="code-annotation-target">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blue"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lightblue"</span>)</span>
<span id="annotated-cell-5-11">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-5-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(</span>
<span id="annotated-cell-5-13">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Histogram of weight by sex"</span>,</span>
<span id="annotated-cell-5-14">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"School children 10 years and above in Pakistan"</span>,</span>
<span id="annotated-cell-5-15">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Weight (kgs)"</span>,</span>
<span id="annotated-cell-5-16">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"n"</span></span>
<span id="annotated-cell-5-17">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-5-18">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-5" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="7" data-code-annotation="1">Use <code>scale_fill_manual()</code> to change histogram fill colours, legend name, and legend labels. For more information, run <code>?scale_fill_manual</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="8" data-code-annotation="2">Change the legend label value.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="9" data-code-annotation="3">Change the legend values.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="10" data-code-annotation="4">Change the histogram fill colours.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-hist-sex-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist-sex-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-28-histogram-ggplot/index_files/figure-html/fig-hist-sex-2-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist-sex-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Histogram of weight by sex - updated
</figcaption>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>The alternative presentation of the histogram for weight by sex is using a side-by-side layout. This can be done in <code>ggplot</code> using the following code.</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-6" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-6-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Histogram of weight by sex ----</span></span>
<span id="annotated-cell-6-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> nut_data, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mapping =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> weight)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-6-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_histogram</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-6-4" class="code-annotation-target">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(. <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> sex, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-6-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(</span>
<span id="annotated-cell-6-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Histogram of weight by sex"</span>,</span>
<span id="annotated-cell-6-7">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"School children 10 years and above in Pakistan"</span>,</span>
<span id="annotated-cell-6-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Weight (kgs)"</span>,</span>
<span id="annotated-cell-6-9">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"n"</span></span>
<span id="annotated-cell-6-10">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-6-11" class="code-annotation-target">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-6" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="4" data-code-annotation="1">Use <code>facet_wrap()</code> to create a faceted plot. For more information, run <code>?facet_wrap()</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="11" data-code-annotation="2">Use <code>theme_bw()</code> instead as this has better formatting for faceted plots. For more information, run <code>?theme_bw()</code>.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-hist-sex-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist-sex-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-28-histogram-ggplot/index_files/figure-html/fig-hist-sex-3-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist-sex-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Histogram of weight by sex - faceted
</figcaption>
</figure>
</div>
</div>
</div>
<p><br></p>
<p>The plot looks good but we can still improve on the following things:</p>
<ul>
<li>Lighten the default gray fill colour of the histogram bars.</li>
<li>Use more appropriate facet labels (Male or Female).</li>
</ul>
<p>The following code can make these improvements.</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-7" style="background: #f1f3f5;"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-7-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Convert sex to factor ----</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-7-2" class="code-annotation-target">nut_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sex <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(nut_data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sex, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Male"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Female"</span>))</span>
<span id="annotated-cell-7-3"></span>
<span id="annotated-cell-7-4"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Histogram of weight by sex ----</span></span>
<span id="annotated-cell-7-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> nut_data, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mapping =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> weight)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-7-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_histogram</span>(</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-7-7" class="code-annotation-target">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray70"</span>,</span>
<span id="annotated-cell-7-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray50"</span></span>
<span id="annotated-cell-7-9">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-7-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(. <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> sex, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-7-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(</span>
<span id="annotated-cell-7-12">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Histogram of weight by sex"</span>,</span>
<span id="annotated-cell-7-13">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"School children 10 years and above in Pakistan"</span>,</span>
<span id="annotated-cell-7-14">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Weight (kgs)"</span>,</span>
<span id="annotated-cell-7-15">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"n"</span></span>
<span id="annotated-cell-7-16">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-7-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-7" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="2" data-code-annotation="1">Convert sex variable to factor using Male and Female as the labels.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="7,8" data-code-annotation="2">Change colour of histogram bars from default (dark gray), <code>fill</code> sets the colour inside the histogram bar while <code>colour</code> sets the colour of the outline of the histogram bar.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div id="fig-hist-sex-4" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hist-sex-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="https://oxford-ihtm.io/posts/2023-11-28-histogram-ggplot/index_files/figure-html/fig-hist-sex-4-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hist-sex-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Histogram of weight by sex - faceted updated
</figcaption>
</figure>
</div>
</div>
</div>


</section>
</section>

 ]]></description>
  <category>tutorial</category>
  <category>visualisation</category>
  <category>ggplot</category>
  <guid>https://oxford-ihtm.io/posts/2023-11-28-histogram-ggplot/</guid>
  <pubDate>Tue, 28 Nov 2023 00:00:00 GMT</pubDate>
  <media:content url="https://oxford-ihtm.io/posts/2023-11-28-histogram-ggplot/histogram_ggplot.png" medium="image" type="image/png" height="144" width="144"/>
</item>
</channel>
</rss>
